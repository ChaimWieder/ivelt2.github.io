<!DOCTYPE html>
<html>

<head>
  <title>Unread Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0 auto;
      padding: 10px;
      height: 95vh;
      max-width: 1190px;
      background-color: #f4f4f4;
      direction: rtl;
    }

    h1 {
      color: #333;
    }

    textarea {
      width: 85%;
      height: 50px;
      padding: 10px;
      margin-bottom: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }

    button {
      color: #D31141;
      border-color: #C7C3BF;
      background-color: #E9E9E9;
      background-image: -webkit-linear-gradient(top, #FFFFFF 0%, #E9E9E9 100%);
      padding: 2px 8px;
      font-size: 13px;
      font-weight: 600;
      font-family: "Open Sans", "Droid Sans", Verdana, Arial, Helvetica;
      text-align: center;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      border: 1px solid transparent;
      border-radius: 4px;
      -webkit-box-shadow: 0 0 0 1px #FFFFFF inset;

    }

    button:hover {

      border-color: #0A8ED0;
      background-color: #FFFFFF;
      background-image: -webkit-linear-gradient(top, #E9E9E9 0%, #FFFFFF 100%);
      background-image: linear-gradient(to bottom, #E9E9E9 0%, #FFFFFF 100%);
      text-shadow: 1px 1px 0 #FFFFFF, -1px -1px 0 #FFFFFF, -1px -1px 0 rgba(188, 42, 77, 0.2);
    }

    .buttons {
      padding: 25px;
      margin-top: 12px;
      background-color: #FFFFFF;
      border-top: 15px solid #0A8ED0;
      border-bottom: 2px solid #0A8ED0;
      border-right: 1px solid #0A8ED0;
      border-left: 1px solid #0A8ED0;
      border-radius: 7px;
      text-align: center;

    }

    textarea:hover {
      background-color: #e5e5e5;
      border-color: #0A8ED0;

    }

    .header {
      background-color: #12A3EB;
      background-image: linear-gradient(to bottom, #6ACEFF 0%, #0076B1 2px, #12A3EB 92px, #12A3EB 100%);
      background-repeat: repeat-x;
      color: #FFFFFF;
      margin-bottom: 4px;
      padding: 5px;
      border-radius: 10px;
    }

    .aaa {
      border-top: 15px solid #0A8ED0;
      border-bottom: 3px solid #0A8ED0;
      border-right: 1px solid #0A8ED0;
      border-left: 1px solid #0A8ED0;
      border-radius: 7px;
      padding: 15px;
    }

    .bb {
      padding-bottom: 50px;
    }

    #logo {
      float: right;
      padding: 0px 15px;
    }

    li {
      list-style: none;
    }
  </style>
</head>

<body>
  <div>
    <header class="header">
      <img src="https://ivelt.com/forum/ext/kfmdmsolutions/customstyle/styles/prosilver/theme/images/site_logo.png"
        alt="ivelt logo" id="logo">
      <h2>אידישע וועלט פארומס</h2>
      <p>קומט אריין פאר א גלעזעלע שנאפס און א גוט ווארט</p>
    </header>
    <div class="bb">
      <h1>וועלט אויס וועלכע פארומס איר ווילט זוכן אשכולות.</h1>
      <p>איר קענט אוועקלייגן די לינק אלס א בוקמארק</p>
      <button onclick="newPage()">דיינעמיק</button>
      <div class="aaa">
        <details>
          <summary><input type="checkbox" id="selectAllMain" onchange="selectAll('Main')"> אידישע וועלט א</br>
          </summary>
          <ul>
            <li><input type="checkbox" id="33" class="Main" value="33" onchange="updateUrl()">ברוכים הבאים</br></li>
            <li><input type="checkbox" id="189" class="Main" value="189" onchange="updateUrl()">רעוואלוציע</br></li>
          </ul>
        </details>

        <details>
          <summary><input type="checkbox" id="selectAllNews" onchange="selectAll('News')">נייעס</br></summary>
          <ul>
            <li><input type="checkbox" id="6" class="News" value="6" onchange="updateUrl()">וועלטליכע נייעס</br></li>
            <ul>
              <li><input type="checkbox" id="104" class="News" value="104" onchange="updateUrl()">קאראנא וויירוס</br>
              </li>
            </ul>
            <li><input type="checkbox" id="183" class="News" value="183" onchange="updateUrl()">פאליטישע נייעס</br></li>
            <ul>
              <li><input type="checkbox" id="110" class="News" value="110" onchange="updateUrl()">נייעס קאך לעפל</br>
              </li>
              <li><input type="checkbox" id="120" class="News" value="120" onchange="updateUrl()">וואלן רעזולטאטן</br>
              </li>
            </ul>
            <li><input type="checkbox" id="184" class="News" value="184" onchange="updateUrl()">עקאנאמישע נייעס</br>
            </li>
            <li><input type="checkbox" id="185" class="News" value="185" onchange="updateUrl()">היימישע נייעס</br></li>
            <ul>
              <li><input type="checkbox" id="98" class="News" value="98" onchange="updateUrl()">ישוב העולם - דירות און
                ישובים</br></li>
              <li><input type="checkbox" id="88" class="News" value="88" onchange="updateUrl()">אקטועלע נייעס</br></li>
            </ul>
          </ul>
        </details>

        <details>
          <summary><input type="checkbox" id="selectAllKretc" onchange="selectAll('Kretc')">די היימישע קרעטשמע</br>
          </summary>
          <ul>
            <li><input type="checkbox" id="152" class="Kretc" value="152" onchange="updateUrl()">דעת הקהל</br></li>
            <li><input type="checkbox" id="3" class="Kretc" value="3" onchange="updateUrl()">היימישע קרעטשמע</br></li>
            <ul>
              <li><input type="checkbox" id="153" class="Kretc" value="153" onchange="updateUrl()">ידיעות און
                וויסנשאפט</br></li>
              <li><input type="checkbox" id="73" class="Kretc" value="73" onchange="updateUrl()">היימישע דזשורנאל</br>
              </li>
            </ul>
            <li><input type="checkbox" id="96" class="Kretc" value="96" onchange="updateUrl()">פאעזיע און גראמען</br>
            </li>
            <li><input type="checkbox" id="139" class="Kretc" value="139" onchange="updateUrl()">אונטערהאלטונג</br></li>
            <li><input type="checkbox" id="21" class="Kretc" value="21" onchange="updateUrl()">היימישע פארברענגן</br>
            </li>
            <ul>
              <li><input type="checkbox" id="13" class="Kretc" value="13" onchange="updateUrl()">שטים בודקע</br></li>
              <li><input type="checkbox" id="106" class="Kretc" value="106" onchange="updateUrl()">אנקעטעס</br></li>
            </ul>
            <li><input type="checkbox" id="63" class="Kretc" value="63" onchange="updateUrl()">זכור ימות עולם</br></li>
            <li><input type="checkbox" id="133" class="Kretc" value="133" onchange="updateUrl()">שפראך, גראמאטיק און
              דקדוק</br></li>
            <li><input type="checkbox" id="134" class="Kretc" value="134" onchange="updateUrl()">היכל הנגינה</br></li>
            <ul>
              <li><input type="checkbox" id="136" class="Kretc" value="136" onchange="updateUrl()">שירי קודש</br></li>
              <li><input type="checkbox" id="138" class="Kretc" value="138" onchange="updateUrl()">תורת הנגינה און כלי
                שיר</br></li>
              <li><input type="checkbox" id="140" class="Kretc" value="140" onchange="updateUrl()">חזנות ווינקל</br>
              </li>
            </ul>
            <li><input type="checkbox" id="135" class="Kretc" value="135" onchange="updateUrl()">היימישע אויסגאבעס און
              נייעס קוועלער</br></li>
            <ul>
              <li><input type="checkbox" id="187" class="Kretc" value="187" onchange="updateUrl()">קול מבשר</br></li>
            </ul>
          </ul>
        </details>

        <details>
          <summary><input type="checkbox" id="selectAllBM" onchange="selectAll('BM')">בית המדרש דקהלתינו</br>
          </summary>
          <ul>
            <li><input type="checkbox" id="92" class="BM" value="92" onchange="updateUrl()">שיעורי הקהילות</br></li>
            <ul>
              <li><input type="checkbox" id="95" class="BM" value="95" onchange="updateUrl()">יסודי התורה</br></li>
              <li><input type="checkbox" id="94" class="BM" value="94" onchange="updateUrl()">זכרו - ישראל ואורייתא</br>
              </li>
              <li><input type="checkbox" id="93" class="BM" value="93" onchange="updateUrl()">תורתך שעשועי</br></li>
              <li><input type="checkbox" id="12" class="BM" value="12" onchange="updateUrl()">שיעור הקרעטשמע - בית
                יאנאש</br></li>
            </ul>
            <li><input type="checkbox" id="5" class="BM" value="5" onchange="updateUrl()">ידיעות התורה</br></li>
            <ul>
              <li><input type="checkbox" id="4" class="BM" value="4" onchange="updateUrl()">מדי שבת בשבתו ומועד
                במועדו</br>
              </li>
            </ul>
            <li><input type="checkbox" id="151" class="BM" value="151" onchange="updateUrl()">אז נדברו</br></li>
            <li><input type="checkbox" id="31" class="BM" value="31" onchange="updateUrl()">על הצדיקים ועל החסידים</br>
            </li>
            <li><input type="checkbox" id="54" class="BM" value="54" onchange="updateUrl()">ועל פליטת בית סופריהם</br>
            </li>
            <ul>
              <li><input type="checkbox" id="23" class="BM" value="23" onchange="updateUrl()">אוצר הספרים</br></li>
              <li><input type="checkbox" id="97" class="BM" value="97" onchange="updateUrl()">מפעל הוצאת ספרים</br></li>
            </ul>
          </ul>
        </details>

        <details>
          <summary><input type="checkbox" id="selectAllish" onchange="selectAll('ish')">איש את רעהו יעזורו</br>
          </summary>
          <ul>
            <li><input type="checkbox" id="25" class="ish" value="25" onchange="updateUrl()">ולאחיו יאמר חזק</br></li>
            <ul>
              <li><input type="checkbox" id="155" class="ish" value="155" onchange="updateUrl()">תורת הנפש</br></li>
              <li><input type="checkbox" id="159" class="ish" value="159" onchange="updateUrl()">חנוך לנער</br></li>
            </ul>
            <li><input type="checkbox" id="71" class="ish" value="71" onchange="updateUrl()">געזונטהייט</br></li>
            <li><input type="checkbox" id="118" class="ish" value="118" onchange="updateUrl()">פינאנץ</br></li>
            <ul>
              <li><input type="checkbox" id="160" class="ish" value="160" onchange="updateUrl()">דינא דמלכותא</br></li>
              <li><input type="checkbox" id="161" class="ish" value="161" onchange="updateUrl()">צדקה וחסד</br></li>
            </ul>
            <li><input type="checkbox" id="162" class="ish" value="162" onchange="updateUrl()">משא ומתן</br></li>
            <ul>
              <li><input type="checkbox" id="163" class="ish" value="163" onchange="updateUrl()">מאכלים</br></li>
              <li><input type="checkbox" id="164" class="ish" value="164" onchange="updateUrl()">מלבושים</br></li>
              <li><input type="checkbox" id="165" class="ish" value="165" onchange="updateUrl()">האוזוועיר</br></li>
              <li><input type="checkbox" id="166" class="ish" value="166" onchange="updateUrl()">אנליין שאפינג</br></li>
            </ul>
            <li><input type="checkbox" id="167" class="ish" value="167" onchange="updateUrl()">דירת קבע</br></li>
            <ul>
              <li><input type="checkbox" id="168" class="ish" value="168" onchange="updateUrl()">מענעדזשמענט</br></li>
              <li><input type="checkbox" id="169" class="ish" value="169" onchange="updateUrl()">קאנסטראקשן</br></li>
            </ul>
            <li><input type="checkbox" id="69" class="ish" value="69" onchange="updateUrl()">אויטאס און אלעס ארום</br>
            </li>
            <ul>
              <li><input type="checkbox" id="170" class="ish" value="170" onchange="updateUrl()">קאר דילערשיפ</br></li>
              <li><input type="checkbox" id="171" class="ish" value="171" onchange="updateUrl()">קאר הילף</br></li>
            </ul>
            <li><input type="checkbox" id="117" class="ish" value="117" onchange="updateUrl()">טרעוול און וואקאציע</br>
            </li>
            <ul>
              <li><input type="checkbox" id="172" class="ish" value="172" onchange="updateUrl()">לאקאלע טרעוול</br></li>
              <li><input type="checkbox" id="173" class="ish" value="173" onchange="updateUrl()">אויספלוגן</br></li>
              <li><input type="checkbox" id="174" class="ish" value="174" onchange="updateUrl()">וואקאציע</br></li>
              <li><input type="checkbox" id="175" class="ish" value="175" onchange="updateUrl()">פלי רייזעס</br></li>
              <li><input type="checkbox" id="176" class="ish" value="176" onchange="updateUrl()">אייראפע</br></li>
              <li><input type="checkbox" id="177" class="ish" value="177" onchange="updateUrl()">ארץ ישראל</br></li>
            </ul>
            <li><input type="checkbox" id="178" class="ish" value="178" onchange="updateUrl()">פארשידענע הילף</br></li>
            <ul>
              <li><input type="checkbox" id="179" class="ish" value="179" onchange="updateUrl()">מועדים וזמנים</br></li>
              <li><input type="checkbox" id="180" class="ish" value="180" onchange="updateUrl()">שמחות</br></li>
            </ul>
            <li><input type="checkbox" id="26" class="ish" value="26" onchange="updateUrl()">ביזנעס</br></li>
            <li><input type="checkbox" id="56" class="ish" value="56" onchange="updateUrl()">טעכנאלאגיע און
              ערפינדונגען</br></li>
            <ul>
              <li><input type="checkbox" id="57" class="ish" value="57" onchange="updateUrl()">טעכנאלאגיע</br></li>
              <li><input type="checkbox" id="59" class="ish" value="59" onchange="updateUrl()">סעלפאונס און טעבלעטס</br>
              </li>
              <li><input type="checkbox" id="60" class="ish" value="60" onchange="updateUrl()">בלעקבערי ווינקל</br></li>
              <li><input type="checkbox" id="81" class="ish" value="81" onchange="updateUrl()">ענדרויד ווינקל</br></li>
              <li><input type="checkbox" id="61" class="ish" value="61" onchange="updateUrl()">אלע אשכולות
                אויפאיינמאל</br></li>
            </ul>
            <li><input type="checkbox" id="27" class="ish" value="27" onchange="updateUrl()">קאמפיוטער און
              פראגרעמינג</br>
            </li>
            <ul>
              <li><input type="checkbox" id="46" class="ish" value="46" onchange="updateUrl()">ווינדאוס און מעק</br>
              </li>
              <li><input type="checkbox" id="47" class="ish" value="47" onchange="updateUrl()">אוידיא און ווידעאו</br>
              </li>
              <li><input type="checkbox" id="49" class="ish" value="49" onchange="updateUrl()">מייקראסאפט ווארד</br>
              </li>
              <li><input type="checkbox" id="51" class="ish" value="51" onchange="updateUrl()">מייקראסאפט עקסעל /
                עקסעס</br></li>
              <li><input type="checkbox" id="52" class="ish" value="52" onchange="updateUrl()">הארדווער, פראגרעמס, און
                פארשידענס</br></li>
              <li><input type="checkbox" id="70" class="ish" value="70" onchange="updateUrl()">דעוועלאופערס ווינקל</br>
              </li>
              <li><input type="checkbox" id="55" class="ish" value="55" onchange="updateUrl()">אלע אשכולות
                אויפאיינמאל</br></li>
            </ul>
            <li><input type="checkbox" id="58" class="ish" value="58" onchange="updateUrl()">בילדער, גראפיקס און
              דעזיין</br></li>
            <li><input type="checkbox" id="75" class="ish" value="75" onchange="updateUrl()">אלע אשכולות פון איש את רעהו
              יעזורו
              אפטיילונג אויפאיינמאל</br></li>
          </ul>
        </details>

        <details>
          <summary><input type="checkbox" id="selectAllMain2" onchange="selectAll('Main2')">אידישע וועלט</br>
          </summary>
          <ul>
            <li><input type="checkbox" id="1" class="Main2" value="1" onchange="updateUrl()">אידישע וועלט</br></li>
            <ul>
              <li><input type="checkbox" id="105" class="Main2" value="105" onchange="updateUrl()">פארמעסטן</br></li>
              <li><input type="checkbox" id="116" class="Main2" value="116" onchange="updateUrl()">תחיית המתים
                קאמפיין</br>
              </li>
            </ul>
            <li><input type="checkbox" id="2" class="Main2" value="2" onchange="updateUrl()">טעכנישע ווינקל</br></li>
            <li><input type="checkbox" id="154" class="Main2" value="154" onchange="updateUrl()">מפתחות</br></li>
            <li><input type="checkbox" id="142" class="Main2" value="142" onchange="updateUrl()">אייוועלט
              פרעזענטירט</br>
            </li>
          </ul>
        </details>
      </div>
      <p>זוך אין סאבפארומס?</p>
      <input type="radio" id="subforumYes" name="subforumSearch" value="1" checked> יא</br>
      <input type="radio" id="subforumNo" name="subforumSearch" value="0"> ניין</br>

      <p> וועלט אויס וועלכע זוך</p>
      <input type="radio" id="unreadposts" name="searchType" value="unreadposts" onchange="updateUrl()" checked>
      אומגעליינטע תגובות</br>
      <input type="radio" id="unanswered" name="searchType" value="unanswered" onchange="updateUrl()"> אומגעענטפערטע
      אשכולות</br>
      <input type="radio" id="newposts" name="searchType" value="newposts" onchange="updateUrl()"> נייע תגובות</br>
      <input type="radio" id="active_topics" name="searchType" value="active_topics" onchange="updateUrl()"> אקטיווע
      אשכולות</br>


      <div class="buttons">
        <textarea id="url"
          readonly>https://www.ivelt.com/forum/search.php?st=0&sk=t&sd=d&sr=topics&search_id=unreadposts</textarea>
        </br>
        <button onclick="copyToClipboard()">קאפי לינק</button>
        <button onclick="goToUrl()">גיי יעצט</button>
        <button onclick="clearState()">הייב אן פריש</button>

      </div>
    </div>
  </div>
</body>
<script>
  function clearState() {
    var inputs = document.querySelectorAll("input[type=checkbox], input[type=radio]");
    for (var i = 0; i < inputs.length; i++) {

      localStorage.removeItem(inputs[i].id);

      if (inputs[i].type === 'checkbox') {
        inputs[i].checked = false;
      }
      // Reset radio buttons to default state
      else if (inputs[i].type === 'radio') {
        inputs[i].checked = (inputs[i].id === 'subforumYes' || inputs[i].id === 'unreadposts');
      }
    }
    updateUrl();
  }

  function updateUrl() {
    var subforumSearch = document.querySelector('input[name="subforumSearch"]:checked').value;
    var searchType = document.querySelector('input[name="searchType"]:checked').value;
    var base_url = "https://www.ivelt.com/forum/search.php?st=0&sc=" + subforumSearch + "&sk=t&sd=d&sr=topics&search_id=" + searchType;

    var checkboxes = document.querySelectorAll("input[type=checkbox]");
    for (var i = 0; i < checkboxes.length; i++) {
      localStorage.setItem(checkboxes[i].id, checkboxes[i].checked);

      if (checkboxes[i].checked) {
        base_url += "&fid%5b%5d=" + checkboxes[i].value;
      }
    }
    document.getElementById('url').textContent = base_url;
  }


  function loadCheckboxes() {
    var checkboxes = document.querySelectorAll("input[type=checkbox]");
    for (var i = 0; i < checkboxes.length; i++) {
      var isChecked = localStorage.getItem(checkboxes[i].id) == 'true' ? true : false;
      checkboxes[i].checked = isChecked;
    }

    // Load radio button state
    var subforumSearch = localStorage.getItem('subforumSearch');
    if (subforumSearch !== null) {
      document.getElementById('subforum' + (subforumSearch == '1' ? 'Yes' : 'No')).checked = true;
    }

    updateUrl();
  }


  function checkAll(category) {
    var subforumSearch = document.querySelector('input[name="subforumSearch"]:checked').value;
    localStorage.setItem('subforumSearch', subforumSearch);
    var isChecked = document.getElementById(category).checked;
    var checkboxes = document.querySelectorAll("." + category);
    for (var i = 0; i < checkboxes.length; i++) {
      checkboxes[i].checked = isChecked;
    }
  }
  function selectAll(category) {
    var selectAllCheckbox = document.querySelector("#selectAll" + category);
    var checkboxes = document.querySelectorAll("." + category);

    for (var i = 0; i < checkboxes.length; i++) {
      checkboxes[i].checked = selectAllCheckbox.checked;
    }

    // Trigger the URL update
    updateUrl();
  }

  function goToUrl() {
    var url = document.getElementById('url').textContent;
    window.open(url, '_blank');
  }


  function copyToClipboard() {
    var urlField = document.getElementById('url');

    // Select the text field
    urlField.select();
    urlField.setSelectionRange(0, 99999); // For mobile devices

    // Copy the text inside the text field
    document.execCommand("copy");

    // Alert the copied text
    alert("Copied the URL: " + urlField.value);
  }

  document.getElementById('subforumYes').addEventListener('change', updateUrl);
  document.getElementById('subforumNo').addEventListener('change', updateUrl);
  window.onload = loadCheckboxes; 

  function newPage() {
  var url = document.getElementById('url').textContent;
  window.open("./auto/index.html", '_blank');
}


</script>

</html>
